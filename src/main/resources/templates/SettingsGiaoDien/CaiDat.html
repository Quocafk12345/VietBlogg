<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chỉnh sửa</title>
    <link rel="stylesheet" href="../css/CaiDat.css">
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
            rel="stylesheet">
</head>
<body>
<div class="container light-style flex-grow-1 container-p-y">
    <h4 class="font-weight-bold py-3 mb-4">Account settings</h4>
    <div class="card overflow-hidden">
        <div class="row no-gutters row-bordered row-border-light">
            <div class="col-md-3 pt-0">
                <div class="list-group list-group-flush account-settings-links">
                    <a class="list-group-item list-group-item-action active"
                       data-toggle="list" href="#account-general">Tổng quan</a> <a
                        class="list-group-item list-group-item-action" data-toggle="list"
                        href="#account-change-password">Thay đổi mật khẩu</a> <a
                        class="list-group-item list-group-item-action" data-toggle="list"
                        href="#account-info">Thông tin</a> <a
                        class="list-group-item list-group-item-action" data-toggle="list"
                        href="#account-social-links">Liên kết xã hội</a> <a
                        class="list-group-item list-group-item-action" data-toggle="list"
                        href="#account-connections">Kết nối</a>
                </div>
            </div>
            <div class="col-md-9">
                <div class="tab-content">
                    <div class="tab-pane fade active show" id="account-general">
                        <form th:action="@{/CaiDat/capNhatHinhAnh}" method="post"
                              enctype="multipart/form-data">
                            <input type="hidden" th:value="${user.userId}" name="userId">
                            <div class="card-body media align-items-center">
                                <img id="anhDaiDien"
                                     th:src="@{'data:image/jpeg;base64,' + ${user.hinhDaiDien}}"
                                     alt class="d-block ui-w-80">
                                <div class="media-body ml-4">
                                    <label class="btn btn-outline-primary"> Tải ảnh mới <input
                                            type="file" class="account-settings-fileinput" name="hinhAnh">
                                    </label> &nbsp;
                                    <button type="submit" class="btn btn-primary">Lưu
                                        hình ảnh</button>
                                    <div class="text-light small mt-1">Được phép JPG, GIF
                                        hoặc PNG. Kích thước tối đa 800K</div>
                                </div>
                            </div>
                            <hr class="border-light m-0">

                        </form>
                        <hr class="border-light m-0">
                        <div class="card-body">
                            <form th:action="@{/CaiDat/capNhat}" method="post">
                                <input type="hidden" th:value="${user.userId}" name="userId">
                                <div class="form-group">
                                    <label class="form-label">Tên người dùng</label> <input
                                        type="text" class="form-control mb-1"
                                        th:value="${user.tenNguoiDung}" name="tenNguoiDung">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tên đăng nhập</label> <input
                                        type="text" class="form-control"
                                        th:value="${user.tenDangNhap}" name="tenDangNhap">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">E-mail</label> <input type="text"
                                                                                    class="form-control mb-1" th:value="${user.email}"
                                                                                    name="email">
                                </div>
                                <button type="submit" class="btn btn-primary">Lưu thay
                                    đổi</button>
                                <br>
                            </form>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="account-change-password">
                        <div class="card-body pb-2">
                            <form th:action="@{/CaiDat/thayDoiMatKhau}" method="post">
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu hiện tại</label> <input
                                        type="password" class="form-control" name="matKhauHienTai">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mật khẩu mới</label> <input
                                        type="password" class="form-control" name="matKhauMoi">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Xác nhận mật khẩu mới</label> <input
                                        type="password" class="form-control"
                                          name="xacNhanMatKhauMoi">
                                </div>
                                <button type="submit" class="btn btn-primary">Thay đổi
                                    mật khẩu</button>
                            </form>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="account-info">
                        <div class="card-body pb-2">
                            <div class="form-group">
                                <label class="form-label">Tiểu sử</label>
                                <textarea class="form-control" rows="5">gfgfnfnngmhjmjk,kl.jlklj.hjhmghnfngdhdgndghnfghyngfmhikịhlhọ.lhkl.kl.kl;kjl.kjl.k</textarea>
                            </div>
                            <form th:action="@{/CaiDat/capNhatThongTinCaNhan}" method="post">
                                <input type="hidden" th:value="${user.userId}" name="userId">

                                <div class="form-group">
                                    <label class="form-label">Số điện thoại</label> <input
                                        type="text" class="form-control" name="dienThoai"
                                        th:value="${user.dienThoai}">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ngày sinh</label> <input type="date"
                                                                                       class="form-control" name="ngaySinh"
                                                                                       th:value="${#dates.format(user.ngaySinh, 'yyyy-MM-dd')}">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Giới tính</label>
                                    <div>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="nam"
                                                   name="gioiTinh" value="true" th:checked="${user.gioiTinh}">
                                            <label class="custom-control-label" for="nam">Nam</label>
                                        </div>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="nu"
                                                   name="gioiTinh" value="false"
                                                   th:checked="${!user.gioiTinh}"> <label
                                                class="custom-control-label" for="nu">Nữ</label>
                                        </div>
                                    </div>
                                </div>

                                <hr class="border-light m-0">

                                <button type="submit" class="btn btn-primary">Lưu thay
                                    đổi</button>
                            </form>
                        </div>
                        <hr class="border-light m-0">
                    </div>


                    <div class="tab-pane fade" id="account-social-links">
                        <div class="card-body pb-2">
                            <div class="form-group">
                                <label class="form-label">Twitter</label> <input type="text"
                                                                                 class="form-control" value="https://twitter.com/user">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Facebook</label> <input type="text"
                                                                                  class="form-control" value="https://www.facebook.com/user">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Google+</label> <input type="text"
                                                                                 class="form-control" value>
                            </div>
                            <div class="form-group">
                                <label class="form-label">LinkedIn</label> <input type="text"
                                                                                  class="form-control" value>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Instagram</label> <input type="text"
                                                                                   class="form-control" value="https://www.instagram.com/user">
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="account-connections">
                        <div class="card-body">
                            <button type="button" class="btn btn-twitter">
                                Kết nối với <strong>Twitter</strong>
                            </button>
                        </div>
                        <hr class="border-light m-0">
                        <div class="card-body">
                            <h5 class="mb-2">
                                <a href="#" class="float-right text-muted text-tiny"><i
                                        class="ion ion-md-close"></i> Remove</a> <i
                                    class="ion ion-logo-google text-google"></i> Bạn đã kết nối
                                với Google:
                            </h5>
                            <a href="/cdn-cgi/l/email-protection" class="__cf_email__"
                               data-cfemail="f9979498818e9c9595b994989095d79a9694">[email&#160;protected]</a>
                        </div>
                        <hr class="border-light m-0">
                        <div class="card-body">
                            <button type="button" class="btn btn-facebook">
                                Kết nối với <strong>Facebook</strong>
                            </button>
                        </div>
                        <hr class="border-light m-0">
                        <div class="card-body">
                            <button type="button" class="btn btn-instagram">
                                Kết nối với <strong>Instagram</strong>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="text-right mt-3">
        <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
        &nbsp;
        <button type="button" class="btn btn-default">Hủy bỏ</button>
    </div>
</div>
<script data-cfasync="false"
        src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">

</script>
<script>
    document
        .getElementById('hinhAnh')
        .addEventListener(
            'change',
            function(e) {
                var file = e.target.files[0];
                var reader = new FileReader();

                reader.onload = function(e) {
                    document.getElementById('anhDaiDien').src = e.target.result; // Cập nhật src với data URL
                }

                reader.readAsDataURL(file);
            });
</script>
<!--Checkbox Nam Nữ-->
<script>
    const namCheckbox = document.getElementById('nam');
    const nuCheckbox = document.getElementById('nu');

    namCheckbox.addEventListener('change', function() {
        if (this.checked) {
            nuCheckbox.checked = false;
        }
    });

    nuCheckbox.addEventListener('change', function() {
        if (this.checked) {
            namCheckbox.checked = false;
        }
    });
</script>
</body>
</html>